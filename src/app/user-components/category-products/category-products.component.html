<div
  class="min-h-screen w-full bg-white text-gray-900 font-[Inter,ui-sans-serif] transition-colors duration-300"
>
  <div class="max-w-7xl mx-auto px-4 py-8 grid grid-cols-12 gap-8">
<!-- === SIDEBAR FILTROS === -->
<aside
  class="col-span-12 md:col-span-3 lg:col-span-3 text-sm text-gray-800 font-[Inter,ui-sans-serif]"
>
  <div
    class="border border-gray-200 rounded-2xl overflow-hidden bg-white shadow-lg hover:shadow transition-all duration-300"
  >
    <!-- CATEGORÍAS -->
    <section class="border-b border-gray-100 p-5">
      <h2 class="text-base font-semibold mb-4 text-gray-900">Categorías</h2>
      <div class="flex flex-col gap-2">
        <label
          *ngFor="let cat of categories"
          class="flex items-center justify-between cursor-pointer group"
        >
          <div class="flex items-center gap-2">
            <input
              type="checkbox"
              class="w-4 h-4 accent-indigo-600 border-gray-300 rounded focus:ring-0"
              [checked]="categorySlug === cat.slug"
              (change)="selectCategory(cat.slug)"
            />
            <span
              class="group-hover:text-gray-900 transition-colors duration-200"
              >{{ cat.name }}</span
            >
          </div>
        </label>
      </div>
    </section>

<!-- PRECIO -->
<section class="border-b border-gray-100 p-5" [formGroup]="formGroup">
  <h2 class="text-base font-semibold mb-4 text-gray-900">Precio</h2>
  <div class="flex items-center gap-3">
    <input
      type="number"
      formControlName="minPrice"
      placeholder="Min"
      class="w-full border border-gray-300 rounded-xl px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200"
    />
    <span class="text-gray-400">–</span>
    <input
      type="number"
      formControlName="maxPrice"
      placeholder="Max"
      class="w-full border border-gray-300 rounded-xl px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200"
    />
  </div>
</section>

<!-- CONDICIÓN -->
<section class="p-5" [formGroup]="formGroup">
  <h2 class="text-base font-semibold mb-4 text-gray-900">Condición</h2>
  <div class="flex flex-col gap-3">
    <label class="flex items-center gap-2 cursor-pointer group">
      <input
        type="radio"
        formControlName="condition"
        value="NUEVO"
        class="w-4 h-4 accent-indigo-600 focus:ring-0"
      />
      <span class="group-hover:text-gray-900 transition-colors duration-200">Nuevo</span>
    </label>

    <label class="flex items-center gap-2 cursor-pointer group">
      <input
        type="radio"
        formControlName="condition"
        value="USADO"
        class="w-4 h-4 accent-indigo-600 focus:ring-0"
      />
      <span class="group-hover:text-gray-900 transition-colors duration-200">Usado</span>
    </label>

    <label class="flex items-center gap-2 cursor-pointer group">
      <input
        type="radio"
        formControlName="condition"
        value="REACONDICIONADO"
        class="w-4 h-4 accent-indigo-600 focus:ring-0"
      />
      <span class="group-hover:text-gray-900 transition-colors duration-200">Reacondicionado</span>
    </label>


    <label class="flex items-center gap-2 cursor-pointer group">
      <input
        type="radio"
        formControlName="condition"
        value=""
        class="w-4 h-4 accent-indigo-600 focus:ring-0"
      />
      <span class="group-hover:text-gray-900 transition-colors duration-200">Todas</span>
    </label>
  </div>
</section>


  </div>
</aside>




    <!-- === LISTADO DE PRODUCTOS === -->
    <main class="col-span-12 md:col-span-9 lg:col-span-9">
      <!-- Barra de búsqueda y filtro -->
      <div class="flex items-center justify-between mb-6">
        <div class="relative w-full max-w-sm">
          <i
            class="pi pi-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
          ></i>
          <input
            type="text"
            placeholder="Buscar"
            class="w-full border border-gray-300 rounded-lg pl-10 pr-4 py-2 text-sm focus:ring-2 focus:ring-indigo-500"
          />
        </div>
        <!--<button
          class="ml-4 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition"
        >
          Filtros
        </button> -->
      </div>

      <!-- Grid de productos -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Producto -->
        <div
          *ngFor="let p of products"
          class="border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition-all"
        >
          <img
            [src]="p.imagen_url || 'https://placehold.co/400x300'"
            [alt]="p.nombre_producto"
            class="w-full h-52 object-cover"
          />
          <div class="p-4">
            <h3 class="font-semibold text-gray-900 text-base mb-1 line-clamp-1">
              {{ p.nombre_producto }}
            </h3>
            <p class="text-emerald-600 font-bold mb-3">
              {{ p.precio | currency : 'EUR' : 'symbol-narrow' : '1.0-0' }}
            </p>
            <button
              pButton
              type="button"
              class="w-full rounded-lg bg-emerald-600 text-white font-medium py-2 hover:bg-emerald-700 transition"
                (click)="goToProduct(p.id_producto)"
            >
              Ver Producto
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
